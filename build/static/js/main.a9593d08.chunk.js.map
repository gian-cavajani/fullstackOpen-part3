{"version":3,"sources":["components/Form.js","components/Filter.js","components/People.js","components/Message.js","services/person.js","App.js","index.js"],"names":["Form","addPerson","handleChangeName","newName","newNum","handleChangeNum","onSubmit","type","onChange","value","Filter","filterName","handleChangeFilt","newFilt","handleShowAll","onClick","People","names","remove","name","number","Message","menssage","className","baseUrl","axios","get","then","response","data","newObj","post","id","delete","put","App","useState","persons","setPersons","setNewName","setNewNum","setNewFilt","showFilter","setShow","setMenssage","useEffect","personService","initial","namesToShow","filter","person","event","preventDefault","target","objectPerson","persona","find","e","changedNum","console","log","window","confirm","map","p","setTimeout","catch","error","newOne","concat","personFiltered","handleRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9593d08.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Form = ({\r\n  addPerson,\r\n  handleChangeName,\r\n  newName,\r\n  newNum,\r\n  handleChangeNum,\r\n}) => {\r\n  return (\r\n    <article>\r\n      {\" \"}\r\n      <form onSubmit={addPerson}>\r\n        name: <input type=\"text\" onChange={handleChangeName} value={newName} />\r\n        number: <input type=\"text\" onChange={handleChangeNum} value={newNum} />\r\n        <button type=\"submit\">add</button>\r\n      </form>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filterName, handleChangeFilt, newFilt, handleShowAll }) => {\r\n  return (\r\n    <article>\r\n      <h2>Phonebook</h2>\r\n      <form onSubmit={filterName}>\r\n        filter people:\r\n        <input type=\"text\" onChange={handleChangeFilt} value={newFilt} />\r\n        <button type=\"submit\">filter</button>\r\n      </form>\r\n      <button onClick={handleShowAll}>show all</button>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst People = ({ names, remove }) => {\r\n  return (\r\n    <li>\r\n      <span>Name:</span> {names.name}, <span>Number:</span> {names.number}\r\n      <button onClick={remove}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default People;\r\n","import React from \"react\";\r\nconst Message = ({ menssage }) => {\r\n  if (menssage === null) {\r\n    return null;\r\n  } else if (menssage === \"ERROR\") {\r\n    return (\r\n      <div className=\"error\">\r\n        <p>{menssage}</p>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"message\">\r\n      <p>{menssage}</p>\r\n    </div>\r\n  );\r\n};\r\nexport default Message;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObj) => {\r\n  const request = axios.post(baseUrl, newObj);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request;\r\n};\r\n\r\nconst updates = (id, newObj) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObj);\r\n  return request;\r\n};\r\n// const update\r\nexport default { getAll, create, remove, updates };\r\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"./components/Form\";\nimport Filter from \"./components/Filter\";\nimport People from \"./components/People\";\nimport Message from \"./components/Message\";\nimport axios from \"axios\";\nimport personService from \"./services/person\";\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [newFilt, setNewFilt] = useState(\"\");\n  const [showFilter, setShow] = useState(true);\n  const [menssage, setMenssage] = useState(null);\n  useEffect(() => {\n    personService.getAll().then((initial) => {\n      setPersons(initial);\n    });\n  }, []);\n\n  const handleRemove = (id) => {\n    const personFiltered = persons.filter((person) => person.id === id);\n    if (window.confirm(`remove ${personFiltered[0].name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== id));\n        })\n        .catch((error) => {\n          setMenssage(`ERROR`);\n          setTimeout(() => {\n            setMenssage(null);\n          }, 3000);\n        });\n    }\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const objectPerson = {\n      name: newName,\n      number: newNum,\n    };\n\n    const persona = persons.find((e) => e.name === objectPerson.name);\n    if (persona) {\n      const changedNum = { ...persona, number: newNum };\n      console.log(changedNum);\n      if (\n        window.confirm(\n          `${newName} is already on the list, would you like to update the number?`\n        )\n      ) {\n        personService\n          .updates(persona.id, changedNum)\n          .then((response) => {\n            setPersons(\n              persons.map((p) => (p.id !== persona.id ? p : response.data)) //actualiza la pagina con el nuevo num.\n            );\n            setMenssage(\n              `${changedNum.name} number updated to: ${changedNum.number}`\n            );\n            setTimeout(() => {\n              setMenssage(null);\n            }, 3000);\n          })\n          .catch((error) => {\n            setMenssage(`ERROR`);\n            setTimeout(() => {\n              setMenssage(null);\n            }, 3000);\n          });\n      }\n    } else {\n      personService\n        .create(objectPerson)\n        .then((newOne) => {\n          setPersons(persons.concat(newOne));\n          setMenssage(`Added ${objectPerson.name}`);\n          setTimeout(() => {\n            setMenssage(null);\n          }, 3000);\n        })\n        .catch((error) => {\n          setMenssage(`ERROR`);\n          setTimeout(() => {\n            setMenssage(null);\n          }, 3000);\n        });\n    }\n    setNewName(\"\");\n    setNewNum(\"\");\n  };\n\n  const filterName = (event) => {\n    event.preventDefault();\n    setShow(false);\n  };\n\n  const namesToShow = showFilter\n    ? persons\n    : persons.filter((person) => person.name === newFilt);\n\n  const handleChangeName = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleChangeNum = (event) => {\n    setNewNum(event.target.value);\n  };\n  const handleChangeFilt = (event) => {\n    setNewFilt(event.target.value);\n  };\n  const handleShowAll = () => {\n    setShow(true);\n  };\n  return (\n    <section>\n      <Message menssage={menssage} />\n      <Filter\n        filterName={filterName}\n        handleChangeFilt={handleChangeFilt}\n        newFilt={newFilt}\n        handleShowAll={handleShowAll}\n      />\n      <Form\n        addPerson={addPerson}\n        handleChangeName={handleChangeName}\n        newName={newName}\n        newNum={newNum}\n        handleChangeNum={handleChangeNum}\n      />\n      <h2>numbers: </h2>\n      <ul>\n        {namesToShow.map((names) => (\n          <People\n            key={names.id}\n            names={names}\n            remove={() => handleRemove(names.id)}\n          />\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}